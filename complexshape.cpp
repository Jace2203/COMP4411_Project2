#include "complexshape.h"

#include "modelerdraw.h"

void drawTurret2()
{
    const int faceNum = 72;

    Vec3f vertex_buffer[38] = {
        Vec3f(-1.0f, 0.0f, 1.0f),
        Vec3f(1.0f, 0.0f, 1.0f),
        Vec3f(-1.0f, 0.0f, -1.0f),
        Vec3f(1.0f, 0.0f, -1.0f),
        Vec3f(-0.688362f, 0.0f, -1.688679f),
        Vec3f(0.688362f, 0.0f, -1.688679f),
        Vec3f(-1.0f, 0.625584f, 1.0f),
        Vec3f(1.0f, 0.625584f, 1.0f),
        Vec3f(-1.0f, 0.625584f, -1.0f),
        Vec3f(1.0f, 0.625584f, -1.0f),
        Vec3f(-0.688362f, 0.625584f, -1.688679f),
        Vec3f(0.688362f, 0.625584f, -1.688679f),
        Vec3f(-0.717988f, 0.855604f, 0.760938f),
        Vec3f(0.717988f, 0.855604f, 0.760938f),
        Vec3f(-0.717988f, 0.855604f, -0.586813f),
        Vec3f(0.717988f, 0.855604f, -0.586813f),
        Vec3f(-0.494236f, 0.855604f, -1.0f),
        Vec3f(0.494236f, 0.855604f, -1.0f),
        Vec3f(-0.413017f, 0.0f, -1.688679f),
        Vec3f(-0.137672f, 0.0f, -1.688679f),
        Vec3f(0.137672f, 0.0f, -1.688679f),
        Vec3f(0.413017f, 0.0f, -1.68868f),
        Vec3f(-0.413017f, 0.625584f, -1.688679f),
        Vec3f(-0.137672f, 0.625584f, -1.688679f),
        Vec3f(0.137672f, 0.625584f, -1.688679f),
        Vec3f(0.413017f, 0.625584f, -1.688679f),
        Vec3f(0.413017f, 0.855604f, -1.0f),
        Vec3f(0.137672f, 0.855604f, -1.0f),
        Vec3f(-0.137672f, 0.855604f, -1.0f),
        Vec3f(-0.413017f, 0.855604f, -1.0f),
        Vec3f(-0.413017f, 0.0f, -1.0f),
        Vec3f(-0.137672f, 0.0f, -1.0f),
        Vec3f(0.137672f, 0.0f, -1.0f),
        Vec3f(0.413017f, 0.0f, -1.0f),
        Vec3f(0.413017f, 0.625584f, -1.0f),
        Vec3f(-0.413017f, 0.625584f, -1.0f),
        Vec3f(0.137672f, 0.625584f, -1.0f),
        Vec3f(-0.137672f, 0.625584f, -1.0f),
    };

    int index_buffer[faceNum * 3] = {
        0, 3, 1,
        2, 0, 6,
        1, 3, 7,
        0, 1, 6,
        2, 10, 4,
        9, 5, 11,
        6, 1, 7,
        8, 10, 2,
        7, 3, 9,
        6, 8, 2,
        3, 5, 9,
        12, 14, 8,
        6, 12, 8,
        13, 12, 6,
        7, 13, 6,
        9, 13, 7,
        13, 9, 15,
        14, 12, 13,
        13, 15, 14,
        17, 26, 14,
        17, 14, 15,
        16, 8, 14,
        8, 16, 10,
        11, 17, 9,
        17, 15, 9,
        5, 3, 21,
        4, 18, 2,
        3, 0, 33,
        24, 28, 27,
        24, 23, 28,
        22, 16, 29,
        16, 22, 10,
        26, 17, 25,
        17, 11, 25,
        25, 11, 21,
        5, 21, 11,
        18, 10, 22,
        10, 18, 4,
        24, 20, 19,
        24, 19, 23,
        18, 30, 2,
        3, 33, 21,
        31, 19, 20,
        31, 20, 32,
        25, 34, 26,
        24, 27, 36,
        28, 23, 37,
        22, 29, 35,
        29, 28, 35,
        37, 35, 28,
        27, 26, 36,
        34, 36, 26,
        33, 36, 34,
        36, 33, 32,
        31, 35, 37,
        35, 31, 30,
        37, 23, 31,
        23, 19, 31,
        36, 32, 24,
        32, 20, 24,
        34, 25, 33,
        25, 21, 33,
        35, 30, 22,
        30, 18, 22,
        33, 0, 32,
        32, 0, 31,
        31, 0, 30,
        0, 2, 30,
        16, 14, 29,
        29, 14, 28,
        28, 14, 27,
        26, 27, 14,
    };

    drawTriangles(faceNum, vertex_buffer, index_buffer);
}

void drawTurret3()
{
    const int faceNum = 124;

    Vec3f vertex_buffer[64] = {
        Vec3f(-1.1f, 0.0f, 1.0f),
        Vec3f(1.1f, 0.0f, 1.0f),
        Vec3f(-1.1f, 0.0f, -1.0f),
        Vec3f(1.1f, 0.0f, -1.0f),
        Vec3f(-1.1f, 0.623398f, 1.0f),
        Vec3f(1.1f, 0.623398f, 1.0f),
        Vec3f(-1.1f, 0.623398f, -1.0f),
        Vec3f(1.1f, 0.623398f, -1.0f),
        Vec3f(-0.88f, 0.0f, -2.0f),
        Vec3f(0.88f, 0.0f, -2.0f),
        Vec3f(-0.88f, 0.623398f, -2.0f),
        Vec3f(0.88f, 0.623398f, -2.0f),
        Vec3f(-0.785714f, 0.0f, 1.0f),
        Vec3f(-0.471429f, 0.0f, 1.0f),
        Vec3f(-0.157143f, 0.0f, 1.0f),
        Vec3f(0.157143f, 0.0f, 1.0f),
        Vec3f(0.471429f, 0.0f, 1.0f),
        Vec3f(0.785714f, 0.0f, 1.0f),
        Vec3f(0.653714f, 0.0f, -1.0f),
        Vec3f(0.352f, 0.0f, -1.0f),
        Vec3f(0.150857f, 0.0f, -1.0f),
        Vec3f(-0.150857f, 0.0f, -1.0f),
        Vec3f(-0.352f, 0.0f, -1.0f),
        Vec3f(-0.653714f, 0.0f, -1.0f),
        Vec3f(-0.785714f, 0.623398f, 1.0f),
        Vec3f(-0.471429f, 0.623398f, 1.0f),
        Vec3f(-0.157143f, 0.623398f, 1.0f),
        Vec3f(0.157143f, 0.623398f, 1.0f),
        Vec3f(0.471429f, 0.623398f, 1.0f),
        Vec3f(0.785714f, 0.623398f, 1.0f),
        Vec3f(0.653714f, 0.0f, -2.0f),
        Vec3f(0.352f, 0.0f, -2.0f),
        Vec3f(0.150857f, 0.0f, -2.0f),
        Vec3f(-0.150857f, 0.0f, -2.0f),
        Vec3f(-0.352f, 0.0f, -2.0f),
        Vec3f(-0.653714f, 0.0f, -2.0f),
        Vec3f(0.653714f, 0.623398f, -2.0f),
        Vec3f(0.352f, 0.623398f, -2.0f),
        Vec3f(0.150857f, 0.623398f, -2.0f),
        Vec3f(-0.150857f, 0.623398f, -2.0f),
        Vec3f(-0.352f, 0.623398f, -2.0f),
        Vec3f(-0.653714f, 0.623398f, -2.0f),
        Vec3f(-0.88f, 0.872343f, 0.743896f),
        Vec3f(0.88f, 0.872343f, 0.743896f),
        Vec3f(-0.88f, 0.872343f, -1.0f),
        Vec3f(0.88f, 0.872343f, -1.0f),
        Vec3f(-0.574322f, 0.872343f, 0.743896f),
        Vec3f(-0.344593f, 0.872343f, 0.743896f),
        Vec3f(-0.114864f, 0.872343f, 0.743896f),
        Vec3f(0.114864f, 0.872343f, 0.743896f),
        Vec3f(0.344593f, 0.872343f, 0.743896f),
        Vec3f(0.574322f, 0.872343f, 0.743896f),
        Vec3f(-0.653714f, 0.872343f, -1.0f),
        Vec3f(-0.352f, 0.872343f, -1.0f),
        Vec3f(-0.150857f, 0.872343f, -1.0f),
        Vec3f(0.150857f, 0.872343f, -1.0f),
        Vec3f(0.352f, 0.872343f, -1.0f),
        Vec3f(0.653714f, 0.872343f, -1.0f),
        Vec3f(0.653714f, 0.623398f, -1.0f),
        Vec3f(0.352f, 0.623398f, -1.0f),
        Vec3f(0.150857f, 0.623398f, -1.0f),
        Vec3f(-0.150857f, 0.623398f, -1.0f),
        Vec3f(-0.352f, 0.623398f, -1.0f),
        Vec3f(-0.653714f, 0.623398f, -1.0f),
    };

    int index_buffer[faceNum * 3] = {
        17, 3, 1,
        3, 5, 1,
        0, 6, 2,
        6, 8, 2,
        1, 29, 17,
        8, 41, 35,
        23, 8, 35,
        3, 11, 7,
        18, 9, 3,
        34, 21, 22,
        38, 31, 32,
        30, 11, 9,
        32, 19, 20,
        40, 33, 34,
        12, 4, 0,
        13, 24, 12,
        14, 25, 13,
        15, 26, 14,
        16, 27, 15,
        17, 28, 16,
        2, 12, 0,
        23, 13, 12,
        22, 14, 13,
        21, 15, 14,
        15, 19, 16,
        16, 18, 17,
        29, 43, 51,
        28, 51, 50,
        26, 47, 25,
        7, 43, 5,
        27, 48, 26,
        24, 42, 4,
        6, 42, 44,
        27, 50, 49,
        25, 46, 24,
        57, 43, 45,
        51, 56, 50,
        50, 55, 49,
        55, 48, 49,
        54, 47, 48,
        53, 46, 47,
        42, 52, 44,
        18, 36, 30,
        23, 62, 22,
        21, 60, 20,
        19, 58, 18,
        31, 59, 19,
        60, 32, 20,
        33, 61, 21,
        62, 34, 22,
        35, 63, 23,
        52, 62, 63,
        55, 61, 54,
        57, 59, 56,
        59, 37, 56,
        60, 55, 38,
        38, 56, 37,
        61, 39, 54,
        62, 53, 40,
        40, 54, 39,
        63, 41, 52,
        58, 57, 36,
        6, 44, 10,
        10, 52, 41,
        11, 45, 7,
        36, 45, 11,
        17, 18, 3,
        3, 7, 5,
        0, 4, 6,
        6, 10, 8,
        1, 5, 29,
        8, 10, 41,
        23, 2, 8,
        3, 9, 11,
        18, 30, 9,
        34, 33, 21,
        38, 37, 31, 
        30, 36, 11,
        32, 31, 19,
        40, 39, 33,
        12, 24, 4,
        13, 25, 24,
        14, 26, 25,
        15, 27, 26,
        16, 28, 27,
        17, 29, 28,
        2, 23, 12,
        23, 22, 13,
        22, 21, 14,
        21, 20, 15,
        15, 20, 19,
        16, 19, 18,
        29, 5, 43,
        28, 29, 51,
        26, 48, 47,
        7, 45, 43,
        27, 49, 48,
        24, 46, 42,
        6, 4, 42,
        27, 28, 50,
        25, 47, 46,
        57, 51, 43,
        51, 57, 56,
        50, 56, 55,
        55, 54, 48,
        54, 53, 47,
        53, 52, 46,
        42, 46, 52,
        18, 58, 36,
        23, 63, 62,
        21, 61, 60,
        19, 59, 58,
        31, 37, 59,
        60, 38, 32,
        33, 39, 61,
        62, 40, 34,
        35, 41, 63,
        52, 53, 62,
        55, 60, 61,
        57, 58, 59,
        38, 55, 56,
        40, 53, 54,
        10, 44, 52,
        36, 57, 45,
    };

    drawTriangles(faceNum, vertex_buffer, index_buffer);
}

void drawShip()
{
    const int faceNum = 98;

    Vec3f vertex_buffer[52] = {
        Vec3f(0.373871f, 1.0f, 0.0f),
        Vec3f(1.0f, 0.0f, 0.0f),
        Vec3f(0.373871f, 1.0f, -1.0f),
        Vec3f(1.0f, 0.0f, -1.0f),
        Vec3f(1.626129f, 1.0f, 0.0f),
        Vec3f(1.626129f, 1.0f, -1.0f),
        Vec3f(0.373871f, 1.0f, -2.0f),
        Vec3f(1.0f, 0.0f, -2.0f),
        Vec3f(1.626129f, 1.0f, -2.0f),
        Vec3f(0.475504f, 1.0f, -3.0f),
        Vec3f(1.0f, 0.086105f, -3.0f),
        Vec3f(1.524496f, 1.0f, -3.0f),
        Vec3f(0.565324f, 0.5f, -1.0f),
        Vec3f(1.0f, 1.0f, -4.236718f),
        Vec3f(0.565324f, 0.5f, 0.0f),
        Vec3f(1.263222f, 1.0f, -3.77803f),
        Vec3f(1.0f, 0.48374f, -3.778027f),
        Vec3f(0.736778f, 1.0f, -3.778027f),
        Vec3f(0.573323f, 0.5f, -2.0f),
        Vec3f(0.650735f, 0.549442f, -3.0f),
        Vec3f(0.834145f, 0.781629f, -3.778027f),
        Vec3f(1.434676f, 0.5f, 0.0f),
        Vec3f(1.434676f, 0.5f, -1.0f),
        Vec3f(1.426677f, 0.5f, -2.0f),
        Vec3f(1.349265f, 0.549442f, -3.0f),
        Vec3f(1.165855f, 0.781629f, -3.778027f),
        Vec3f(0.750751f, 0.25f, 0.0f),
        Vec3f(0.750751f, 0.25f, -1.0f),
        Vec3f(0.750751f, 0.25f, -2.0f),
        Vec3f(0.797162f, 0.325193f, -3.0f),
        Vec3f(0.89231f, 0.640959f, -3.778027f),
        Vec3f(1.249249f, 0.25f, -1.0f),
        Vec3f(1.249249f, 0.25f, -2.0f),
        Vec3f(1.202838f, 0.325193f, -3.0f),
        Vec3f(1.10769f, 0.640959f, -3.778027f),
        Vec3f(1.249249f, 0.25f, 0.0f),
        Vec3f(1.0f, 0.252686f, -3.432651f),
        Vec3f(0.596365f, 1.0f, -3.432651f),
        Vec3f(1.403635f, 1.0f, -3.43265f),
        Vec3f(0.739839f, 0.650121f, -3.432651f),
        Vec3f(1.260161f, 0.650121f, -3.432651f),
        Vec3f(0.829652f, 0.475182f, -3.432651f),
        Vec3f(1.170348f, 0.475182f, -3.432651f),
        Vec3f(1.0f, 1.0f, 0.0f),
        Vec3f(1.0f, 0.25f, 0.0f),
        Vec3f(1.0f, 0.5f, 0.0f),
        Vec3f(0.750751f, 0.25f, 0.0f),
        Vec3f(1.0f, 1.0f, -3.77803f),
        Vec3f(1.0f, 1.0f, -3.43265f),
        Vec3f(1.0f, 1.0f, -3.0f),
        Vec3f(1.0f, 1.0f, -2.0f),
        Vec3f(1.0f, 1.0f, -1.0f),
    };

    int index_buffer[faceNum * 3] = {
        22, 23, 5,
        22, 5, 21,
        4, 21, 5,
        8, 5, 23,
        11, 8, 23,
        24, 11, 23,
        24, 40, 11,
        38, 11, 40,
        15, 38, 40,
        25, 15, 40,
        13, 15, 25,
        25, 34, 13,
        16, 13, 34,
        16, 30, 13,
        30, 20, 13,
        17, 13, 20,
        20, 39, 17,
        37, 17, 39,
        37, 39, 9,
        9, 39, 19,
        19, 18, 9,
        18, 6, 9,
        6, 18, 2,
        2, 18, 12,
        12, 14, 2,
        0, 2, 14,
        26, 14, 27,
        27, 14, 12,
        12, 18, 27,
        28, 27, 18,
        18, 29, 28,
        29, 18, 19,
        19, 39, 29,
        41, 29, 39,
        30, 41, 39,
        20, 30, 39,
        25, 40, 34,
        42, 34, 40,
        42, 40, 33,
        33, 40, 24,
        24, 23, 33,
        32, 33, 23,
        32, 23, 31,
        23, 22, 31,
        22, 21, 31,
        21, 35, 31,
        35, 1, 31,
        3, 31, 1,
        3, 7, 31,
        32, 31, 7,
        7, 33, 32,
        33, 7, 10,
        10, 36, 33,
        42, 33, 36,
        34, 42, 36,
        16, 34, 36,
        30, 16, 36,
        41, 30, 36,
        41, 36, 29,
        36, 10, 29,
        7, 29, 10,
        28, 29, 7,
        28, 7, 27,
        3, 27, 7,
        3, 1, 27,
        1, 26, 27,
        14, 43, 0,
        43, 21, 4,
        43, 14, 45,
        43, 45, 21,
        45, 44, 21,
        21, 44, 35,
        35, 44, 1,
        1, 44, 46,
        14, 46, 44,
        44, 45, 14,
        4, 5, 43,
        43, 5, 51,
        2, 43, 51,
        0, 43, 2,
        51, 50, 2,
        51, 5, 50,
        5, 8, 50,
        11, 50, 8,
        50, 11, 49,
        49, 11, 48,
        11, 38, 48,
        15, 48, 38,
        48, 15, 47,
        15, 13, 47,
        13, 17, 47,
        47, 17, 48,
        17, 37, 48,
        9, 48, 37,
        48, 9, 49,
        50, 49, 9,
        9, 6, 50,
        2, 50, 6,
    };

    drawTriangles(faceNum, vertex_buffer, index_buffer);
}

void drawTriangles(int num, const Vec3f* v_buffer, const int* i_buffer)
{
    for (int i = 0; i < num; i++)
    {
        Vec3f a = v_buffer[i_buffer[i * 3 + 0]];
        Vec3f b = v_buffer[i_buffer[i * 3 + 1]];
        Vec3f c = v_buffer[i_buffer[i * 3 + 2]];
        drawTriangle(a[0], a[1], a[2], b[0], b[1], b[2], c[0], c[1], c[2]);
    }
}